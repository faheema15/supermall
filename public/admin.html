<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Supermall | Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="assets/icon.png">
    <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js"></script>
<script>
    const firebaseConfig = {
        apiKey: "AIzaSyCybJfh8n4YSNxLJBklHY4fz4NdUvfGRP0",
  authDomain: "supermall-bf14a.firebaseapp.com",
  projectId: "supermall-bf14a",
  storageBucket: "supermall-bf14a.appspot.com",
  messagingSenderId: "261748319987",
  appId: "1:261748319987:web:6d1e6816013d92d958b986",
  measurementId: "G-3G4V4SNVF0"
    };
  
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body>
    <header>
        <nav class="section__container nav__container">
            <div class="nav__log">Supermall
                <h5>Admin Dashboard</h5>
            </div>
            <div class="logout-container">
                <a href="index.html" class="logout-icon" >
                    <i class="fas fa-sign-out-alt" style="color: white;"></i>
                </a>
            </div>
        </nav>
      </header>
    
    
    <!-- Manage Shops -->
    <section id="shops">
        <h2>Manage Shops</h2>
        <table class="shoptable">
            <thead>
                <tr>
                    <th>Shop ID</th>
                    <th>Shop Name</th>
                    <th>Location</th>
                    <th>Floor</th>
                    <th>Contact Info</th>
                    <th>Owner ID</th>
                    <th>Shop Category</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>S001</td>
                    <td>Tech Haven</td>
                    <td>Building A</td>
                    <td>1</td>
                    <td>123-456-7890</td>
                    <td>O001</td>
                    <td>Electronics</td>
                </tr>
                <tr>
                    <td>S002</td>
                    <td>Fashion Hub</td>
                    <td>Building B</td>
                    <td>2</td>
                    <td>987-654-3210</td>
                    <td>O002</td>
                    <td>Clothing</td>
                </tr>
                <tr>
                    <td>S003</td>
                    <td>Gadget World</td>
                    <td>Building C</td>
                    <td>1</td>
                    <td>555-123-6789</td>
                    <td>O003</td>
                    <td>Accessories</td>
                </tr>
                <tr>
                    <td>S004</td>
                    <td>Book Store</td>
                    <td>Building D</td>
                    <td>3</td>
                    <td>444-789-1234</td>
                    <td>O004</td>
                    <td>Books</td>
                </tr>
                <tr>
                    <td>S005</td>
                    <td>Home Essentials</td>
                    <td>Building A</td>
                    <td>4</td>
                    <td>333-678-9876</td>
                    <td>O005</td>
                    <td>Home Goods</td>
                </tr>
                <tr>
                    <td>S006</td>
                    <td>Toy Kingdom</td>
                    <td>Building B</td>
                    <td>5</td>
                    <td>111-222-3333</td>
                    <td>O006</td>
                    <td>Toys</td>
                </tr>
            </tbody>
        </table>
        <div id="shopList"></div>
        <button onclick="addShop()" id="adbtn">Add Shop</button>
    </section>
    
    <!-- Manage Categories -->
    <section id="categories">
        <h2>Manage Categories</h2>
        <table class="categorytable">
            <thead>
                <tr>
                    <th>Category ID</th>
                    <th>Category Name</th>
                    <th>Description</th>
                    <th>Floor</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>C001</td>
                    <td>Electronics</td>
                    <td>All electronic items</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>C002</td>
                    <td>Clothing</td>
                    <td>Apparel and accessories</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>C003</td>
                    <td>Accessories</td>
                    <td>Gadgets and add-ons</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>C004</td>
                    <td>Books</td>
                    <td>Various genres of books</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>C005</td>
                    <td>Home Goods</td>
                    <td>Home and kitchen essentials</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>C006</td>
                    <td>Toys</td>
                    <td>Children's toys and games</td>
                    <td>5</td>
                </tr>
            </tbody>
        </table>
        <div id="categoryList"></div>
        <button onclick="addCategory()" id="adbtn">Add Category</button>
    </section>
    
    <!-- Manage Orders -->
    <section id="orders">
        <h2>Orders</h2>
        <table>
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>User ID</th>
                    <th>Shop ID</th>
                    <th>Product ID</th>
                    <th>Quantity</th>
                    <th>Order Date</th>
                    <th>Status</th>
                    <th>Total Price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>O001</td>
                    <td>U001</td>
                    <td>S001</td>
                    <td>P001</td>
                    <td>2</td>
                    <td>2024-01-15</td>
                    <td>Shipped</td>
                    <td>$500</td>
                </tr>
                <tr>
                    <td>O002</td>
                    <td>U002</td>
                    <td>S002</td>
                    <td>P002</td>
                    <td>1</td>
                    <td>2024-02-20</td>
                    <td>Delivered</td>
                    <td>$150</td>
                </tr>
                <tr>
                    <td>O003</td>
                    <td>U003</td>
                    <td>S003</td>
                    <td>P003</td>
                    <td>4</td>
                    <td>2024-03-05</td>
                    <td>Pending</td>
                    <td>$320</td>
                </tr>
                <tr>
                    <td>O004</td>
                    <td>U004</td>
                    <td>S004</td>
                    <td>P004</td>
                    <td>1</td>
                    <td>2024-04-10</td>
                    <td>Shipped</td>
                    <td>$75</td>
                </tr>
                <tr>
                    <td>O005</td>
                    <td>U005</td>
                    <td>S005</td>
                    <td>P005</td>
                    <td>3</td>
                    <td>2024-05-25</td>
                    <td>Canceled</td>
                    <td>$200</td>
                </tr>
                <tr>
                    <td>O006</td>
                    <td>U006</td>
                    <td>S006</td>
                    <td>P006</td>
                    <td>2</td>
                    <td>2024-06-30</td>
                    <td>Delivered</td>
                    <td>$120</td>
                </tr>
            </tbody>
        </table>
        <div id="orderList"></div>
    </section>

    <script>
        // Load Shops
        function loadShops() {
            db.collection("shops").get().then((querySnapshot) => {
                const shopList = document.getElementById("shopList");
                shopList.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const shop = doc.data();
                    shopList.innerHTML += `<div>${shop.name} - ${shop.category} - ${shop.loc}</div>`;
                });
            });
        }

        // Add Shop
        function addShop() {
            const name = prompt("Enter Shop Name:");
            const category = prompt("Enter Category:");
            const loc = prompt("Enter Location:");
            const contact = prompt("Enter Contact:");
            db.collection("shops").add({
                name: name,
                category: category,
                loc: loc,
                contact: contact
            }).then(() => loadShops());
        }

        // Load Categories
        function loadCategories() {
            db.collection("categories").get().then((querySnapshot) => {
                const categoryList = document.getElementById("categoryList");
                categoryList.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const category = doc.data();
                    categoryList.innerHTML += `<div>${category.categoryname} - ${category.description} - Floor: ${category.floor}</div>`;
                });
            });
        }

        // Add Category
        function addCategory() {
            const categoryname = prompt("Enter Category Name:");
            const description = prompt("Enter Description:");
            const floor = prompt("Enter Floor:");
            db.collection("categories").add({
                categoryname: categoryname,
                description: description,
                floor: floor
            }).then(() => loadCategories());
        }

        // Load Orders
        function loadOrders() {
            db.collection("orders").get().then((querySnapshot) => {
                const orderList = document.getElementById("orderList");
                orderList.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const order = doc.data();
                    orderList.innerHTML += `<div>Order ID: ${doc.id} - Status: ${order.status} - Total Price: ${order.totalprice}</div>`;
                });
            });
        }

        // Load data on page load
        window.onload = function() {
            loadShops();
            loadCategories();
            loadOrders();
        };
    </script>
</body>
</html>
